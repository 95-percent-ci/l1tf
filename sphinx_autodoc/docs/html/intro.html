<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>2. Introduction &mdash; L1 Trend Filtering for Trend Extraction 1.0.0 documentation</title>


    <script type="text/javascript" src="_static/js/modernizr.min.js"></script>


    <script type="text/javascript" id="documentation_options" data-url_root="./"
            src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>

    <script type="text/javascript" src="_static/js/theme.js"></script>


    <link rel="stylesheet" href="_static/css/theme.css" type="text/css"/>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css"/>
    <link rel="index" title="Index" href="genindex.html"/>
    <link rel="search" title="Search" href="search.html"/>
    <link rel="next" title="3. Usage" href="quickuse.html"/>
    <link rel="prev" title="1.2. On Windows" href="building_windows.html"/>
</head>

<body class="wy-body-for-nav">


<div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">


                <a href="index.html" class="icon icon-home"> L1 Trend Filtering for Trend Extraction


                    <img src="_static/gdpl.png" class="logo" alt="Logo"/>

                </a>


                <div class="version">
                    1.0
                </div>


                <div role="search">
                    <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
                        <input type="text" name="q" placeholder="Search docs"/>
                        <input type="hidden" name="check_keywords" value="yes"/>
                        <input type="hidden" name="area" value="default"/>
                    </form>
                </div>


            </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">


                <p class="caption"><span class="caption-text">Contents</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="building.html">1. Build &amp;
                        Installation</a></li>
                    <li class="toctree-l1 current"><a class="current reference internal" href="#">2. Introduction</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="#id1">2.1. Introduction</a></li>
                            <li class="toctree-l2"><a class="reference internal" href="#implementation">2.2.
                                Implementation</a></li>
                        </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="quickuse.html">3. Usage</a></li>
                </ul>
                <p class="caption"><span class="caption-text">Algorithm code</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="l1tf.l1.html">1. L1 Trend Filtering</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Helper Functions</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="l1tf.trend_segment.html">1. Result
                        Extraction</a></li>
                    <li class="toctree-l1"><a class="reference internal" href="l1tf.helpers.html">2. Quick use</a></li>
                </ul>
                <p class="caption"><span class="caption-text">Message keys</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="l1tf.help_msg.html">1. HELP MESSAGE
                        KEYS</a></li>
                </ul>


            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


        <nav class="wy-nav-top" aria-label="top navigation">

            <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
            <a href="index.html">L1 Trend Filtering for Trend Extraction</a>

        </nav>


        <div class="wy-nav-content">

            <div class="rst-content style-external-links">


                <div role="navigation" aria-label="breadcrumbs navigation">

                    <ul class="wy-breadcrumbs">

                        <li><a href="index.html">Docs</a> &raquo;</li>

                        <li>2. Introduction</li>


                        <li class="wy-breadcrumbs-aside">


                            <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>


                        </li>

                    </ul>


                    <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">

                        <a href="quickuse.html" class="btn btn-neutral float-right" title="3. Usage" accesskey="n">Next
                            <span class="fa fa-arrow-circle-right"></span></a>


                        <a href="building_windows.html" class="btn btn-neutral float-left" title="1.2. On Windows"
                           accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>

                    </div>

                    <hr/>
                </div>
                <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                    <div itemprop="articleBody">

                        <div class="section" id="introduction">
                            <h1>2. Introduction<a class="headerlink" href="#introduction"
                                                  title="Permalink to this headline">¶</a></h1>
                            <div class="section" id="id1">
                                <h2>2.1. Introduction<a class="headerlink" href="#id1"
                                                        title="Permalink to this headline">¶</a></h2>
                                <p>Estimation of underlying trends in time series data is useful in a variety of
                                    disciplines ( econometrics, process
                                    control engineering etc). <img class="math"
                                                                   src="_images/math/310b7f2361e691856d14705b46b328f278179f2f.svg"
                                                                   alt="l_1" style="vertical-align: -3px"/> trend
                                    filtering is a novel method of extracting trends from a time series data. It
                                    substitutes sum of
                                    squares penalization term used in Hodrick-Prescott(H-P) Filtering by a sum of
                                    absolute values(i.e., an <img class="math"
                                                                  src="_images/math/310b7f2361e691856d14705b46b328f278179f2f.svg"
                                                                  alt="l_1" style="vertical-align: -3px"/> norm). This
                                    produces trend estimates that are piecewise linear. Changes in slope in extracted
                                    trend can aid in extracting underlying
                                    steady state condition in the signal. Mathematically it tries minimize following
                                    objective function.</p>
                                <div class="math">
                                    <p><img src="_images/math/9fe5c9b188a06404edcb75e0eaf9fd0452fbaa25.svg"
                                            alt="(1/2)\sum_{t=1}^{n}(y_t - x_t)^2 + \lambda \sum_{t=1}^{n}|x_{t-1} - 2x_t + x_{t+1}|"/>
                                    </p>
                                </div>
                                <p>Where <img class="math"
                                              src="_images/math/d229c8d064a5c1935fdaab521351fb509be43712.svg"
                                              alt="\lambda" style="vertical-align: 0px"/> is a nonnegative parameter
                                    used to control the trade-off between smoothness of <img class="math"
                                                                                             src="_images/math/4d1eabf3ea6f4d272ac709e7071abe435376a5d0.svg"
                                                                                             alt="x"
                                                                                             style="vertical-align: 0px"/>
                                    and
                                    size of the residual. Same objective could also be written as</p>
                                <div class="math">
                                    <p><img src="_images/math/dfc13de8548cf025772674fe95d9ac712b40e11c.svg"
                                            alt="(1/2)||y-x||_2^2  + \lambda ||Dx||_1"/></p>
                                </div>
                                <p>where <img class="math"
                                              src="_images/math/a2c07234777b5921a6119711e99ac1067736271b.svg" alt="D"
                                              style="vertical-align: 0px"/> <img class="math"
                                                                                 src="_images/math/16ed9a9823c9a191e05ce8f96423846dbb5c5998.svg"
                                                                                 alt="\in R^{(n-2)\times n}"
                                                                                 style="vertical-align: -1px"/> is the
                                    second order difference matrix</p>
                                <div class="math">
                                    <p><img src="_images/math/5226da9125e664240d300a5c5bccf98e1f62b197.svg" alt="\begin{bmatrix}
1 &amp; -2 &amp; 1 &amp; \cdots &amp; \cdots &amp; \cdots &amp; \cdots &amp; 0\\
0 &amp; 1 &amp; -2 &amp; 1 &amp; &amp; &amp; &amp; \vdots\\
0 &amp; 0 &amp; 1 &amp; -2 &amp; \ddots &amp; &amp; &amp; \vdots\\
\vdots &amp; 0 &amp; \ddots &amp; \ddots &amp; \ddots &amp; \ddots &amp; &amp; \vdots\\
\vdots &amp; &amp; \ddots &amp; \ddots &amp; \ddots &amp; \ddots &amp; 1 &amp; \vdots\\
0 &amp; &amp; &amp; \ddots &amp; \ddots &amp; 1 &amp; -2 &amp; 1\\
\end{bmatrix}"/></p>
                                </div>
                                <p>The Lagrangian turns out be</p>
                                <div class="math">
                                    <p><img src="_images/math/6b680b1cf8340178159d370144996e7776caa8dd.svg"
                                            alt="(1/2)||y-x||_2^2  + \lambda ||z||_1 + \nu^T(Dx - z)"/></p>
                                </div>
                                <p>where <img class="math"
                                              src="_images/math/b6c4307baff86b12eed77bae172d759c182d94fe.svg" alt="z"
                                              style="vertical-align: 0px"/> = <img class="math"
                                                                                   src="_images/math/657ded7590294b8fd270addf710ac5c2649d5681.svg"
                                                                                   alt="Dx"
                                                                                   style="vertical-align: 0px"/>. The
                                    dual of lagrangian is a convex quadratic program and it is given by</p>
                                <div class="math">
                                    <p><img src="_images/math/b6372d2ad25e1a8802b3452190f178b3e290c0ba.svg"
                                            alt="g(\nu) = (1/2)\nu^T DD^T \nu - y^T D^T \nu"/></p>
                                </div>
                                <p>subject to</p>
                                <div class="math">
                                    <p><img src="_images/math/10dbdf482c69def25845af6d6890e2d10872bdf1.svg"
                                            alt="-\lambda \leq \nu \leq  \lambda"/></p>
                                </div>
                                <p>The solution <img class="math"
                                                     src="_images/math/b4ebfbd9f9829137d7d2a6bf022d34d388471293.svg"
                                                     alt="\nu^{lt}" style="vertical-align: 0px"/> of the dual, <img
                                        class="math" src="_images/math/310b7f2361e691856d14705b46b328f278179f2f.svg"
                                        alt="l_1" style="vertical-align: -3px"/> trend estimate can be estimated via</p>
                                <div class="math">
                                    <p><img src="_images/math/aaeb4db58682fa9c22fb015fca1a83eafadb700c.svg"
                                            alt="x^{lt} = y - D^T v^{lt}"/></p>
                                </div>
                            </div>
                            <div class="section" id="implementation">
                                <h2>2.2. Implementation<a class="headerlink" href="#implementation"
                                                          title="Permalink to this headline">¶</a></h2>
                                <p>CVXOPT ( Python Software For Convex Optimization ) is used directly for solving
                                    quadratic programming.
                                    CVXOPT quadratic programming solver is used for solving the dual formulation. It
                                    solves
                                    quadratic program of form</p>
                                <div class="math">
                                    <p><img src="_images/math/e76c038d942775bbcfc038acb1a17344f38076e1.svg" alt="minimize :(1/2)x^T P x + q^T x

constraint : Gx \leq h

Ax = b"/></p>
                                </div>
                                <p>where</p>
                                <div class="math">
                                    <p><img src="_images/math/9ce80dda7c09d204500dc85e7b34662c9793e67b.svg"
                                            alt="P = DD^T, q = -D y"/></p>
                                </div>
                                <p>and</p>
                                <div class="math">
                                    <p><img src="_images/math/827d73b244b31828f7241da21afbbcaf7312b6fd.svg" alt="G = \begin{bmatrix}
    1 &amp; 1 &amp; \cdots &amp; 1 \\
    1 &amp; 1 &amp; \cdots &amp;  1 \\
    1 &amp; 1 &amp; \cdots &amp;  1 \\
    \vdots &amp; \vdots &amp;  \vdots &amp; \vdots \\
    -1 &amp; -1 &amp; \cdots &amp;  -1 \\
    -1 &amp; -1 &amp; \cdots &amp; -1 \\
    -1 &amp; -1 &amp; \cdots &amp; -1 \\
    \end{bmatrix}_{2(n-2) \times (n-2)}
    h = \begin{bmatrix}
        \lambda \\
        \lambda \\
        \lambda \\
        \vdots \\
        \lambda\\
        \lambda \\
        \lambda \\
        \end{bmatrix}_{2(n-2) \times 1}"/></p>
                                </div>
                                <div class="math">
                                    <p><img src="_images/math/f55c87f8bcf60a6955829c761f77af0fcbd9cab3.svg"
                                            alt="G[:n-2,:] = 1, G[n-2:,:] = -1"/></p>
                                </div>
                                <p>The user is requested to go through <a class="reference external"
                                                                          href="https://cvxopt.org/userguide/index.html">CVXOPT
                                    documentation</a>
                                    and <a class="reference external" href="https://cvxopt.org/userguide/coneprog.html">Quadratic
                                        programming</a> for better understanding.</p>
                            </div>
                        </div>


                    </div>

                </div>
                <footer>

                    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

                        <a href="quickuse.html" class="btn btn-neutral float-right" title="3. Usage" accesskey="n"
                           rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>


                        <a href="building_windows.html" class="btn btn-neutral float-left" title="1.2. On Windows"
                           accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>

                    </div>


                    <hr/>

                    <div role="contentinfo">
                        <p>
                            &copy; Copyright 2019, GyanData Pvt. Ltd.

                        </p>
                    </div>
                    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a
                        href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a
                        href="https://readthedocs.org">Read the Docs</a>.

                </footer>

            </div>
        </div>

    </section>

</div>


<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });

</script>


</body>
</html>